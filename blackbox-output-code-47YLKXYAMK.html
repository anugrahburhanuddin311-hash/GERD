<!DOCTYPE html>
<html lang="id">
<head>
    <title>GERD Adventure - Level 1</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js"></script>
    <style> body { margin: 0; } </style>
</head>
<body>
    <script>
        const config = {
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            scene: {
                preload: preload,
                create: create,
                update: update
            },
            physics: { default: 'arcade' }
        };

        const game = new Phaser.Game(config);
        let player, cursors, questionText, buttons = [], score = 0;

        function preload() {
            this.load.image('background', 'https://via.placeholder.com/800x600/87CEEB/FFFFFF?text=Gerbang+Perut'); // Ganti dengan gambar asli
            this.load.image('player', 'https://via.placeholder.com/50x50/4CAF50/FFFFFF?text=Avatar'); // Avatar
            this.load.image('chest', 'https://via.placeholder.com/50x50/FFD700/FFFFFF?text=Peti'); // Peti harta
        }

        function create() {
            this.add.image(400, 300, 'background');
            player = this.physics.add.sprite(100, 450, 'player');
            player.setCollideWorldBounds(true);
            cursors = this.input.keyboard.createCursorKeys();

            // Peti harta
            const chest = this.physics.add.sprite(600, 300, 'chest');
            this.physics.add.overlap(player, chest, openChest, null, this);

            questionText = this.add.text(400, 100, '', { fontSize: '24px', fill: '#000' }).setOrigin(0.5);
        }

        function update() {
            if (cursors.left.isDown) player.setVelocityX(-160);
            else if (cursors.right.isDown) player.setVelocityX(160);
            else player.setVelocityX(0);
            if (cursors.up.isDown && player.body.touching.down) player.setVelocityY(-330);
        }

        function openChest(player, chest) {
            chest.destroy();
            questionText.setText('Apa itu GERD?\n1. Penyakit refluks asam\n2. Sakit gigi');
            // Tambahkan tombol interaktif (sederhana)
            const button1 = this.add.text(300, 200, '1', { fontSize: '32px', fill: '#0F0' }).setInteractive();
            button1.on('pointerdown', () => checkAnswer(true));
            const button2 = this.add.text(500, 200, '2', { fontSize: '32px', fill: '#F00' }).setInteractive();
            button2.on('pointerdown', () => checkAnswer(false));
        }

        function checkAnswer(correct) {
            if (correct) {
                score += 10;
                questionText.setText('Benar! Poin: ' + score + '\nLanjut ke Level 2!');
                // Animasi kemenangan
                this.tweens.add({ targets: player, scale: 1.2, duration: 500, yoyo: true });
            } else {
                questionText.setText('Salah! Coba lagi.');
            }
        }
    </script>
</body>
</html>